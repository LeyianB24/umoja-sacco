/* =============================================================================
   UMOJA SACCO â€” UNIVERSAL "LIGHTS OUT" DARK MODE
   A comprehensive system-wide override for all portals (Admin, Member, Public).
   Handles Hope UI, IQ Framework, Forest Green, and Contributions themes.
   ============================================================================= */

[data-bs-theme="dark"] {
    /* 1. Universal Palette (Pure Black Lights Out) */
    --bg-primary: #000000;      /* Pure Black */
    --bg-surface: #15181c;     /* Deep Slate Surface */
    --text-main: #eff3f4;      /* Near White Text */
    --text-muted: #71767b;     /* Muted Gray Text */
    --border-color: #2f3336;   /* Subtle Border */
    
    /* Brand Accent: USMS Lime */
    --lime: #bef264;
    --lime-hover: #a3e635;
    
    /* 2. Framework Variable Overrides (IQ / Hope / Forest / Bootstrap / Contributions) */
    --iq-body-bg: #000000 !important;
    --iq-card-bg: #15181c !important;
    --iq-text-title: #eff3f4 !important;
    --iq-text-body: #71767b !important;
    --iq-bg-soft-primary: rgba(190, 242, 100, 0.1) !important;
    --iq-secondary: #bef264 !important;
    --iq-border-light: #2f3336 !important;
    --iq-shadow: none !important;

    /* Forest Green (Loans.php) Theme Overrides */
    --forest-deep: #000000 !important;
    --forest-mid: #15181c !important;
    --forest-light: #1e2126 !important;
    --surface-bg: #000000 !important;
    --lime-accent: #bef264 !important;
    --lime-hover: #a3e635 !important;

    /* Contributions Theme Overrides (contributions.php) */
    --theme-dark: #000000 !important;  /* Pure black for high-contrast buttons */
    --theme-lime: #bef264 !important;
    --theme-lime-hover: #a3e635 !important;
    --theme-white: #15181c !important;
    --theme-bg: #000000 !important;
    --theme-text-gray: #71767b !important;

    /* Legacy & Hope V15 Framework */
    --hope-bg: #000000 !important;
    --hope-card: #15181c !important;
    --hope-text-main: #eff3f4 !important;
    --hope-text-muted: #71767b !important;
    --hope-border: #2f3336 !important;
    --hope-accent: #bef264 !important;
    --hope-accent-bg: #bef264 !important;
    --hope-accent-text: #000000 !important;

    /* Shared/Global Variables */
    --brand-dark: #eff3f4 !important;
    --card-bg: #15181c !important;
    --body-bg: #000000 !important;
    --bg-app: #000000 !important;
    --dark-green: #bef264 !important;
    --forest: #15181c !important;
    --bs-body-bg: #000000 !important;
    --bs-body-color: #eff3f4 !important;
    --bs-secondary-bg: #15181c !important;
    --bs-tertiary-bg: #1e2126 !important;
    --bs-border-color: #2f3336 !important;

    color-scheme: dark;
}

/* ---------------------------------------------------------------------------
   GLOBAL ELEMENT RESETS
   --------------------------------------------------------------------------- */
[data-bs-theme="dark"] body {
    background-color: #000000 !important;
    color: #eff3f4 !important;
}

/* ---------------------------------------------------------------------------
   CARDS & CONTAINERS (UNIVERSAL)
   --------------------------------------------------------------------------- */
[data-bs-theme="dark"] .card,
[data-bs-theme="dark"] .iq-card,
[data-bs-theme="dark"] .stat-card,
[data-bs-theme="dark"] .glass-stat,
[data-bs-theme="dark"] .card-hope,
[data-bs-theme="dark"] .hero-card,
[data-bs-theme="dark"] .table-glass,
[data-bs-theme="dark"] .login-card,
[data-bs-theme="dark"] .card-clean,
[data-bs-theme="dark"] .card-forest,
[data-bs-theme="dark"] .hope-card,
[data-bs-theme="dark"] .filter-container,
[data-bs-theme="dark"] .transaction-list {
    background: #15181c !important;
    border: 1px solid #2f3336 !important;
    color: #eff3f4 !important;
    backdrop-filter: blur(20px) !important;
    box-shadow: none !important;
}

[data-bs-theme="dark"] .hope-card.card-dark,
[data-bs-theme="dark"] .hope-card.card-white,
[data-bs-theme="dark"] .hope-card.card-lime {
    background-color: #15181c !important;
    color: #eff3f4 !important;
    border: 1px solid #2f3336 !important;
}

[data-bs-theme="dark"] .card-forest {
    background-image: none !important; /* Force out gradients */
}

/* Modals & Offcanvas */
[data-bs-theme="dark"] .modal-content,
[data-bs-theme="dark"] .modal-header,
[data-bs-theme="dark"] .modal-footer,
[data-bs-theme="dark"] .offcanvas-header,
[data-bs-theme="dark"] .offcanvas-body {
    background: #15181c !important;
    border-color: #2f3336 !important;
    color: #eff3f4 !important;
}

[data-bs-theme="dark"] .offcanvas { background-color: #15181c !important; }

/* ---------------------------------------------------------------------------
   TYPOGRAPHY (KILLING DISAPPEARING WORDS)
   --------------------------------------------------------------------------- */
[data-bs-theme="dark"] h1, [data-bs-theme="dark"] h2, [data-bs-theme="dark"] h3, 
[data-bs-theme="dark"] h4, [data-bs-theme="dark"] h5, [data-bs-theme="dark"] h6,
[data-bs-theme="dark"] .text-dark,
[data-bs-theme="dark"] .fw-bold.text-dark,
[data-bs-theme="dark"] [class*="text-dark"],
[data-bs-theme="dark"] .card-title-sm {
    color: #eff3f4 !important;
}

[data-bs-theme="dark"] .text-muted,
[data-bs-theme="dark"] .small.text-muted,
[data-bs-theme="dark"] .text-secondary,
[data-bs-theme="dark"] .x-small,
[data-bs-theme="dark"] .label-text {
    color: #71767b !important;
}

/* ---------------------------------------------------------------------------
   FORMS & INPUTS
   --------------------------------------------------------------------------- */
[data-bs-theme="dark"] .form-control,
[data-bs-theme="dark"] .form-select,
[data-bs-theme="dark"] .input-group-text,
[data-bs-theme="dark"] .form-control[readonly],
[data-bs-theme="dark"] .form-control:read-only,
[data-bs-theme="dark"] .form-control-lg-custom,
[data-bs-theme="dark"] .form-control-custom {
    background-color: #000000 !important;
    border: 1px solid #2f3336 !important;
    color: #eff3f4 !important;
}

/* ---------------------------------------------------------------------------
   TABLES & LISTS
   --------------------------------------------------------------------------- */
[data-bs-theme="dark"] .table,
[data-bs-theme="dark"] .list-group-item,
[data-bs-theme="dark"] .table-premium,
[data-bs-theme="dark"] .table-premium td,
[data-bs-theme="dark"] .custom-table,
[data-bs-theme="dark"] .custom-table td {
    --bs-table-bg: #000000;
    --bs-table-color: #eff3f4;
    --bs-table-border-color: #2f3336;
    --bs-table-striped-bg: #15181c;
    background: #000000 !important;
    color: #eff3f4 !important;
    border-color: #2f3336 !important;
}

[data-bs-theme="dark"] .table current-row,
[data-bs-theme="dark"] .table thead th,
[data-bs-theme="dark"] .table-premium th,
[data-bs-theme="dark"] .custom-table th {
    background-color: #1e2126 !important;
    color: #eff3f4 !important;
    border-bottom: 2px solid #2f3336 !important;
}

/* ---------------------------------------------------------------------------
   ALERTS (THEME AWARE)
   --------------------------------------------------------------------------- */
[data-bs-theme="dark"] .alert {
    border: 1px solid transparent !important;
}
[data-bs-theme="dark"] .alert-success { background: rgba(0, 186, 124, 0.1) !important; color: #00ba7c !important; }
[data-bs-theme="dark"] .alert-warning { background: rgba(255, 211, 61, 0.1) !important; color: #ffd33d !important; }
[data-bs-theme="dark"] .alert-danger  { background: rgba(244, 33, 46, 0.1) !important;  color: #f4212e !important; }
[data-bs-theme="dark"] .alert-info    { background: rgba(29, 155, 240, 0.1) !important; color: #1d9bf0 !important; }

/* ---------------------------------------------------------------------------
   HIJACKING HARDCODED INLINE STYLES (UNIVERSAL BRUTE FORCE)
   --------------------------------------------------------------------------- */
[data-bs-theme="dark"] [style*="background: #ffffff"],
[data-bs-theme="dark"] [style*="background-color: #ffffff"],
[data-bs-theme="dark"] [style*="background: #fff"],
[data-bs-theme="dark"] [style*="background-color: #fff"],
[data-bs-theme="dark"] [style*="background: #f8fafc"],
[data-bs-theme="dark"] [style*="background-color: #f8fafc"],
[data-bs-theme="dark"] [style*="background: #fdfdfd"],
[data-bs-theme="dark"] [style*="background-color: #fdfdfd"],
[data-bs-theme="dark"] [style*="background: white"],
[data-bs-theme="dark"] [style*="background-color: white"],
[data-bs-theme="dark"] [style*="background: #eef2f6"],
[data-bs-theme="dark"] [style*="background: #f4f6f8"],
[data-bs-theme="dark"] [style*="background: #FEF2F2"],
[data-bs-theme="dark"] [style*="background: linear-gradient"],
[data-bs-theme="dark"] .bg-white,
[data-bs-theme="dark"] .bg-light,
[data-bs-theme="dark"] .bg-light-subtle,
[data-bs-theme="dark"] .hd-toggle-btn {
    background: #15181c !important;
    border-color: #2f3336 !important;
}

[data-bs-theme="dark"] .avatar-box,
[data-bs-theme="dark"] [style*="background: #f4f6f8"] {
    background: #1e2126 !important;
    color: var(--lime) !important;
}

[data-bs-theme="dark"] [style*="color: #111827"],
[data-bs-theme="dark"] [style*="color: #232D42"],
[data-bs-theme="dark"] [style*="color: #6B7280"],
[data-bs-theme="dark"] [style*="color: var(--forest-deep)"],
[data-bs-theme="dark"] [style*="color: var(--iq-secondary)"],
[data-bs-theme="dark"] [style*="color: var(--theme-dark)"] {
    color: #eff3f4 !important;
}

[data-bs-theme="dark"] .bg-light-subtle,
[data-bs-theme="dark"] .bg-warning-subtle,
[data-bs-theme="dark"] .bg-danger-subtle,
[data-bs-theme="dark"] .bg-info-subtle,
[data-bs-theme="dark"] .bg-success-subtle,
[data-bs-theme="dark"] .btn-light {
    background-color: rgba(255, 255, 255, 0.05) !important;
    border-color: #2f3336 !important;
    color: #eff3f4 !important;
}

/* ---------------------------------------------------------------------------
   SPECIFIC PORTAL COMPONENT FIXES (FOR STUBBORN ELEMENTS)
   --------------------------------------------------------------------------- */
[data-bs-theme="dark"] .btn-logout-sidebar {
    background: rgba(244, 33, 46, 0.1) !important;
    color: #f4212e !important;
    border: 1px solid rgba(244, 33, 46, 0.2) !important;
}

[data-bs-theme="dark"] .btn-logout-sidebar:hover {
    background: rgba(244, 33, 46, 0.2) !important;
}

[data-bs-theme="dark"] .hd-toggle-btn {
    background: #15181c !important;
    border: 1px solid #2f3336 !important;
    color: #eff3f4 !important;
}

[data-bs-theme="dark"] #mobileToggle, 
[data-bs-theme="dark"] #mobileSidebarToggle {
    background: #15181c !important;
    color: #eff3f4 !important;
    border: 1px solid #2f3336 !important;
}

/* ---------------------------------------------------------------------------
   MISC & SHARED ASSETS
   --------------------------------------------------------------------------- */
[data-bs-theme="dark"] .progress { background-color: #2d3136 !important; }
[data-bs-theme="dark"] .progress-bar { background-color: var(--lime) !important; }
[data-bs-theme="dark"] .icon-box, [data-bs-theme="dark"] .icon-puck,
[data-bs-theme="dark"] .bg-light.rounded-circle.p-2 {
    background-color: #1e2126 !important;
    color: var(--lime) !important;
}

[data-bs-theme="dark"] hr { border-top: 1px solid #2f3336 !important; opacity: 1 !important; }

/* Buttons Overrides */
[data-bs-theme="dark"] .btn-white,
[data-bs-theme="dark"] .btn-outline-secondary,
[data-bs-theme="dark"] .btn-forest-outline,
[data-bs-theme="dark"] .btn-outline-secondary.dropdown-toggle {
    background: #000000 !important;
    color: #eff3f4 !important;
    border: 1px solid #2f3336 !important;
}

[data-bs-theme="dark"] .btn-dark {
    background: #1e2126 !important;
    color: #eff3f4 !important;
    border: 1px solid #2f3336 !important;
}

/* ---------------------------------------------------------------------------
   ADMIN PORTAL SPECIFIC COMPONENTS
   --------------------------------------------------------------------------- */
[data-bs-theme="dark"] .portal-header,
[data-bs-theme="dark"] .hp-hero {
    background: linear-gradient(135deg, #000000 0%, #0b1210 100%) !important;
    border: 1px solid #2f3336 !important;
    box-shadow: none !important;
}

[data-bs-theme="dark"] .hp-hero::after {
    background: radial-gradient(circle, rgba(190, 242, 100, 0.05) 0%, transparent 70%) !important;
}

[data-bs-theme="dark"] .stat-card,
[data-bs-theme="dark"] .glass-stat,
[data-bs-theme="dark"] .ledger-container,
[data-bs-theme="dark"] .ledger-header,
[data-bs-theme="dark"] .table-glass {
    background: #15181c !important;
    border: 1px solid #2f3336 !important;
    color: #eff3f4 !important;
    box-shadow: none !important;
}

[data-bs-theme="dark"] .nav-pill-custom {
    background: #15181c !important;
    color: #eff3f4 !important;
    border: 1px solid #2f3336 !important;
}

[data-bs-theme="dark"] .nav-pill-custom:hover {
    background: #1e2126 !important;
    transform: translateX(5px) !important;
}

[data-bs-theme="dark"] .table-custom thead th {
    background: #1e2126 !important;
    color: #eff3f4 !important;
    border-bottom: 2px solid #2f3336 !important;
}

[data-bs-theme="dark"] .table-custom tbody td {
    border-bottom: 1px solid #2f3336 !important;
    color: #eff3f4 !important;
    background: transparent !important;
}

[data-bs-theme="dark"] .table-custom tbody tr:hover td {
    background-color: #1a1d21 !important;
}

[data-bs-theme="dark"] .search-box,
[data-bs-theme="dark"] .form-select.bg-light {
    background-color: #000000 !important;
    border: 1px solid #2f3336 !important;
    color: #eff3f4 !important;
}

[data-bs-theme="dark"] .bg-success-subtle,
[data-bs-theme="dark"] .bg-lime-soft,
[data-bs-theme="dark"] .bg-red-soft,
[data-bs-theme="dark"] .bg-forest-soft {
    background-color: rgba(255, 255, 255, 0.05) !important;
    color: var(--lime) !important;
    border: 1px solid #2f3336 !important;
}

[data-bs-theme="dark"] .btn-forest {
    background: var(--lime) !important;
    color: #000000 !important;
    border: none !important;
}
