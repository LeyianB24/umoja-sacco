### admins ###
admin_id | int(11)
username | varchar(80)
full_name | varchar(150)
email | varchar(150)
password | varchar(255)
temp_password | varchar(100)
created_at | timestamp
last_login | datetime
remember_token | varchar(255)
remember_expires | datetime
remember_ua | varchar(255)
role_id | int(11)

### audit_logs ###
audit_id | int(11)
admin_id | int(11)
member_id | int(11)
action | varchar(150)
details | text
ip_address | varchar(45)
created_at | datetime

### callback_logs ###
log_id | int(11)
callback_type | varchar(50)
merchant_request_id | varchar(100)
checkout_request_id | varchar(100)
result_code | int(11)
result_desc | varchar(255)
amount | decimal(15,2)
mpesa_receipt_number | varchar(50)
transaction_date | datetime
phone_number | varchar(20)
raw_payload | text
processed | tinyint(1)
processed_at | datetime
created_at | timestamp
received_at | timestamp
member_id | int(11)
last_error | text
processing_attempts | int(11)

### contributions ###
contribution_id | int(11)
member_id | int(11)
contribution_type | enum('savings','shares','welfare','registration','monthly')
amount | decimal(12,2)
contribution_date | datetime
payment_method | varchar(50)
reference_no | varchar(150)
status | enum('pending','active','failed','refunded')
created_by_admin | int(11)
created_at | timestamp
callback_received_at | datetime

### employees ###
employee_id | int(11)
full_name | varchar(150)
national_id | varchar(50)
phone | varchar(30)
email | varchar(150)
job_title | varchar(100)
salary | decimal(12,2)
status | enum('active','on_leave','terminated')
hire_date | date
created_at | timestamp
admin_id | int(11)

### export_logs ###
id | int(11)
user_id | int(11)
user_role | varchar(50)
module | varchar(100)
export_type | varchar(20)
exported_at | datetime
ip_address | varchar(45)
record_count | int(11)
total_value | decimal(15,2)
status | varchar(20)
details | text

### financial_export_logs ###
export_id | int(11)
user_id | int(11)
user_role | varchar(50)
financial_module | varchar(100)
export_format | enum('PDF','Excel')
export_date | datetime
ip_address | varchar(45)
record_count | int(11)
total_value | decimal(20,2)
status | enum('success','failed')

### investment_expenses ###
id | int(11)
investment_id | int(11)
amount | decimal(12,2)
expense_date | datetime
description | varchar(255)
recorded_by | int(11)

### investment_income ###
income_id | int(11)
investment_id | int(11)
amount | decimal(14,2)
income_date | date
description | varchar(255)
recorded_by | int(11)

### investments ###
investment_id | int(11)
title | varchar(150)
category | enum('farm','vehicle_fleet','petrol_station','apartments','land','other')
reg_no | varchar(50)
model | varchar(100)
capacity | varchar(50)
assigned_route | varchar(150)
description | text
purchase_date | date
purchase_cost | decimal(14,2)
current_value | decimal(14,2)
target_amount | decimal(14,2)
target_period | enum('daily','monthly','annually')
target_start_date | date
viability_status | enum('viable','underperforming','loss_making','pending')
last_viability_check | datetime
status | enum('active','disposed','maintenance')
sale_date | date
sale_price | decimal(14,2)
manager_admin_id | int(11)
created_at | datetime

### ledger_accounts ###
account_id | int(11)
account_name | varchar(255)
account_type | enum('asset','liability','equity','revenue','expense')
member_id | int(11)
category | varchar(50)
current_balance | decimal(15,2)
status | enum('active','closed')
created_at | timestamp

### ledger_entries ###
entry_id | int(11)
transaction_id | int(11)
account_id | int(11)
debit | decimal(15,2)
credit | decimal(15,2)
balance_after | decimal(15,2)
created_at | timestamp

### ledger_transactions ###
transaction_id | int(11)
reference_no | varchar(100)
transaction_date | date
description | text
action_type | varchar(50)
recorded_by | int(11)
created_at | timestamp

### legacy_expenses_backup ###
expense_id | int(11)
category | varchar(50)
amount | decimal(12,2)
expense_date | date
description | text
investment_id | int(11)
recorded_by | int(11)
created_at | timestamp

### legacy_vehicle_expenses_backup ###
vehicle_expense_id | int(11)
vehicle_id | int(11)
amount | decimal(12,2)
expense_date | datetime
category | varchar(100)
description | varchar(255)
recorded_by | int(11)

### legacy_vehicle_income_backup ###
vehicle_income_id | int(11)
vehicle_id | int(11)
amount | decimal(12,2)
income_date | datetime
description | varchar(255)
recorded_by | int(11)

### legacy_vehicles_backup ###
vehicle_id | int(11)
reg_no | varchar(50)
model | varchar(100)
year | year(4)
status | enum('active','maintenance','disposed')
investment_id | int(11)
purchase_cost | decimal(12,2)
created_at | datetime
assigned_route | varchar(20)
capacity | varchar(20)
target_daily_revenue | varchar(20)

### loan_guarantors ###
id | int(11)
loan_id | int(11)
member_id | int(11)
amount_locked | decimal(15,2)
status | enum('pending','approved','rejected','active','released')
created_at | timestamp

### loan_repayments ###
repayment_id | int(11)
loan_id | int(11)
amount_paid | decimal(12,2)
payment_date | datetime
payment_method | enum('cash','mpesa','bank')
reference_no | varchar(150)
mpesa_receipt | varchar(50)
remaining_balance | decimal(12,2)
created_by_admin | int(11)
status | varchar(20)
created_at | timestamp

### loans ###
loan_id | int(11)
member_id | int(11)
loan_type | enum('emergency','development','school','asset','business')
amount | decimal(15,2)
interest_rate | decimal(5,2)
duration_months | int(11)
status | enum('pending','approved','rejected','disbursed','completed','written_off')
application_date | datetime
approved_by | int(11)
approval_date | datetime
disbursed_amount | decimal(12,2)
disbursed_date | datetime
notes | text
created_at | timestamp
total_payable | decimal(15,2)
current_balance | decimal(12,2)

### member_documents ###
document_id | int(11)
member_id | int(11)
document_type | enum('national_id_front','national_id_back','passport_photo','kra_pin','signature','other')
file_path | varchar(255)
uploaded_at | datetime
status | enum('pending','verified','rejected')
verification_notes | text
verified_by | int(11)
verified_at | datetime

### member_shareholdings ###
member_id | int(11)
units_owned | decimal(20,4)
total_amount_paid | decimal(30,2)
average_purchase_price | decimal(20,2)
last_updated | datetime

### members ###
member_id | int(11)
member_reg_no | varchar(20)
full_name | varchar(150)
email | varchar(150)
phone | varchar(30)
dob | date
_deprecated_account_balance | decimal(15,2)
national_id | varchar(50)
password | varchar(255)
remember_token | varchar(255)
remember_expires | datetime
remember_ua | varchar(255)
temp_password | varchar(100)
address | varchar(255)
next_of_kin_name | varchar(150)
next_of_kin_phone | varchar(30)
occupation | varchar(100)
join_date | date
status | enum('active','inactive','suspended')
registration_fee_status | enum('paid','unpaid')
kyc_status | enum('not_submitted','pending','approved','rejected')
kyc_notes | text
reg_fee_paid | tinyint(1)
profile_pic | longblob
created_at | timestamp
updated_at | timestamp
gender | enum('male','female')

### messages ###
message_id | int(11)
from_member_id | int(11)
to_admin_id | int(11)
from_admin_id | int(11)
to_member_id | int(11)
subject | varchar(150)
body | text
attachment | varchar(255)
is_read | tinyint(1)
sent_at | datetime

### mpesa_requests ###
id | int(11)
member_id | int(11)
phone | varchar(20)
amount | decimal(10,2)
checkout_request_id | varchar(100)
status | enum('pending','success','failed','completed')
reference_no | varchar(100)
mpesa_receipt | varchar(50)
notes | text
created_at | timestamp
updated_at | timestamp
callback_log_id | int(11)

### next_of_kin ###
id | int(11)
member_id | int(11)
full_name | varchar(100)
relationship | varchar(50)
phone | varchar(20)
id_number | varchar(20)
allocation_percent | decimal(5,2)

### notifications ###
notification_id | int(11)
member_id | int(11)
admin_id | int(11)
to_role | varchar(255)
comms_type | enum('in-app','email','sms')
delivery_status | enum('queued','sent','failed')
delivery_error | text
recipient | varchar(255)
metadata | longtext
status | enum('unread','read')
title | varchar(255)
message | text
is_read | tinyint(1)
created_at | datetime
user_type | varchar(255)
user_id | int(11)

### password_reset_tokens ###
token_id | int(11)
user_type | enum('admin','member')
user_id | int(11)
token | varchar(255)
expires_at | datetime
created_at | datetime

### payment_channels ###
id | int(11)
name | varchar(100)
provider | varchar(50)
settlement_account_id | int(11)
status | enum('active','inactive')
created_at | timestamp

### payroll ###
id | int(11)
employee_id | int(11)
month | varchar(10)
year | int(11)
basic_salary | decimal(15,2)
allowances | decimal(15,2)
deductions | decimal(15,2)
net_pay | decimal(15,2)
payment_date | date
status | enum('pending','paid')
transaction_id | int(11)
created_at | timestamp

### permissions ###
id | int(11)
slug | varchar(50)
name | varchar(100)
category | varchar(50)

### properties ###
property_id | int(11)
title | varchar(150)
category | enum('plot','apartment','commercial','other')
location | varchar(255)
size_description | varchar(100)
purchase_cost | decimal(14,2)
asking_price | decimal(14,2)
status | enum('available','sold','development')
investment_id | int(11)
created_at | datetime

### property_sales ###
sale_id | int(11)
property_id | int(11)
buyer_name | varchar(150)
buyer_contact | varchar(80)
sale_price | decimal(14,2)
sale_date | datetime
recorded_by | int(11)

### reconciliation_logs ###
log_id | int(11)
account_id | int(11)
ledger_sum | decimal(15,2)
account_balance | decimal(15,2)
difference | decimal(15,2)
status | enum('flagged','resolved')
created_at | timestamp

### role_permissions ###
role_id | int(11)
permission_id | int(11)

### roles ###
id | int(11)
name | varchar(50)
description | varchar(255)

### savings ###
saving_id | int(11)
member_id | int(11)
amount | decimal(15,2)
reference_no | varchar(50)
transaction_type | enum('deposit','withdrawal')
description | varchar(255)
created_at | timestamp
reference_id | varchar(50)

### share_settings ###
id | int(11)
total_authorized_units | decimal(20,4)
initial_unit_price | decimal(20,2)
par_value | decimal(20,2)
last_valuation_date | datetime
created_at | datetime

### share_transactions ###
txn_id | int(11)
member_id | int(11)
units | decimal(20,4)
unit_price | decimal(20,2)
total_value | decimal(30,2)
transaction_type | enum('purchase','dividend','transfer','migration')
reference_no | varchar(100)
created_at | datetime

### shares ###
share_id | int(11)
member_id | int(11)
share_units | int(11)
unit_price | decimal(10,2)
total_value | decimal(12,2)
purchase_date | datetime
reference_no | varchar(50)
created_at | timestamp

### support_replies ###
reply_id | int(11)
support_id | int(11)
sender_type | enum('admin','member')
sender_id | int(11)
message | text
user_role | varchar(255)
created_at | timestamp
attachment | varchar(255)

### support_tickets ###
support_id | int(11)
admin_id | int(11)
member_id | int(11)
subject | varchar(255)
message | text
category | enum('loans','savings','shares','welfare','withdrawals','technical','profile','investments','general','loan','accounting','tech')
assigned_role_id | int(11)
priority | enum('low','medium','high','critical')
status | varchar(20)
is_resolved | tinyint(1)
created_at | timestamp
updated_at | timestamp
attachment | varchar(255)

### system_config ###
id | int(11)
setting_key | varchar(50)
setting_value | text
description | varchar(255)
updated_at | timestamp

### system_settings ###
setting_key | varchar(50)
setting_value | text
description | varchar(255)
updated_at | timestamp

### transactions ###
transaction_id | int(11)
ledger_transaction_id | int(11)
member_id | int(11)
transaction_type | varchar(50)
amount | decimal(15,2)
type | enum('credit','debit')
category | varchar(100)
reference_no | varchar(50)
related_id | int(11)
related_table | varchar(50)
recorded_by | int(11)
transaction_date | datetime
payment_channel | varchar(80)
description | varchar(255)
notes | text
created_by_admin | int(11)
created_at | timestamp
mpesa_request_id | varchar(100)

### welfare_cases ###
case_id | int(11)
related_member_id | int(11)
title | varchar(255)
description | text
requested_amount | decimal(15,2)
approved_amount | decimal(15,2)
total_raised | decimal(15,2)
total_disbursed | decimal(15,2)
target_amount | decimal(15,2)
status | enum('pending','approved','funded','closed')
created_by | int(11)
created_at | timestamp

### welfare_donations ###
donation_id | int(11)
case_id | int(11)
member_id | int(11)
amount | decimal(15,2)
reference_no | varchar(50)
created_at | timestamp

### welfare_support ###
support_id | int(11)
member_id | int(11)
amount | decimal(15,2)
reference_no | varchar(50)
reason | varchar(255)
case_id | int(11)
granted_by | int(11)
date_granted | datetime
status | enum('pending','granted','rejected')
created_at | timestamp

### withdrawal_requests ###
withdrawal_id | int(11)
member_id | int(11)
ref_no | varchar(50)
amount | decimal(15,2)
source_ledger | varchar(50)
phone_number | varchar(30)
status | enum('initiated','pending','completed','failed','reversed')
mpesa_conversation_id | varchar(100)
mpesa_receipt | varchar(50)
result_code | int(11)
result_desc | text
notes | text
callback_received_at | timestamp
created_at | timestamp
updated_at | timestamp

